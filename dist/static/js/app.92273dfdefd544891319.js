webpackJsonp([0],{"+6k6":function(t,e){},"0eAL":function(t,e){},"1xgi":function(t,e){},"7x7p":function(t,e){},"94ZE":function(t,e){},B83W:function(t,e){},CJTC:function(t,e){},DMa3:function(t,e){},LFau:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("CLX7"),i=s.n(n),r=s("NYxO");const o=()=>!!localStorage.getItem("token"),l=()=>JSON.parse(localStorage.getItem("token"));var u={name:"App",mounted(){if(o()){const t=(()=>JSON.parse(localStorage.getItem("user")))(),e=l();this.setAuth({user:t,token:e})}},methods:Object(r.b)(["setAuth"])},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},d=s("VU/8")(u,c,!1,null,null,null).exports,p=s("/ocq");var h,m={name:"AppInput",data:()=>({isFocus:!1}),props:{value:{required:!0},placeholder:{type:String,required:!0},type:{default:"text",validator:(h=["text","password"],t=>h.includes(t)),type:String}},methods:{updateValue(t){this.$emit("input",t)},handleFocus(){this.isFocus=!0},handleBlur(){this.isFocus=!1}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input"},[s("input",{class:{"input__field-focus":t.isFocus},attrs:{type:t.type,name:t.value,placeholder:t.placeholder},domProps:{value:t.value},on:{focus:t.handleFocus,blur:t.handleBlur,input:function(e){return t.updateValue(e.target.value)}}})])},staticRenderFns:[]};var f=s("VU/8")(m,v,!1,function(t){s("e+xq")},"data-v-340449ea",null).exports,_={name:"AppButton",props:{title:{type:String,required:!0},isValid:{type:Boolean,default:!0}},emits:["click"]},y={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"button",class:{button__disable:!t.isValid},attrs:{disabled:!t.isValid},on:{click:function(e){return t.$emit("click")}}},[t._v("\n  "+t._s(t.title)+"\n")])},staticRenderFns:[]};var C=s("VU/8")(_,y,!1,function(t){s("xejZ")},"data-v-2de91544",null).exports,g={name:"Info",data:()=>({users:[],isOpen:!1}),methods:{}},k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("p",[this._v("Валидные данные из API для входа")]),this._v(" "),e("div",{staticClass:"info-data"},[e("p",[this._v("Ник: kminchelle")]),this._v(" "),e("p",[this._v("Пароль: 0lelplR")])])])}]};const b="https://dummyjson.com/",$="GET";async function x({method:t=$,url:e="",body:s=null}){const a=b+e,n={method:t},i=l();n.headers={"Api-Key":`Bearer ${i}`},n.headers["Content-Type"]="application/json",t!==$&&(n.body=JSON.stringify(s));const r=await fetch(a,n);if(!r.ok)throw new Error;return await r.json()}var S={components:{AppInput:f,AppButton:C,Info:s("VU/8")(g,k,!1,function(t){s("eY4I")},"data-v-21a8f39c",null).exports},name:"FormModal",comments:{AppInput:f},data:()=>({login:"",password:""}),methods:{setAuth:Object(r.b)(["setAuth"]).setAuth,async handleClick(){try{const t=await async function(t){return await x({url:"auth/login",method:"POST",body:t})}({username:this.login,password:this.password});this.setAuth({user:t,token:t.token}),this.$router.push("/list/users")}catch(t){this.notifyError()}},notifyError(){this.$notify({group:"foo",type:"error",title:"Ошибка авторизации",text:"Неверный логин или пароль"})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form"},[s("div",{staticClass:"form__wrapper"},[s("h2",[t._v("Вход")]),t._v(" "),s("div",{staticClass:"fields"},[s("app-input",{attrs:{placeholder:"Логин"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),t._v(" "),s("app-input",{attrs:{placeholder:"Пароль",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("app-button",{attrs:{title:"Авторизоваться"},on:{click:t.handleClick}}),t._v(" "),s("notifications",{attrs:{group:"foo"}}),t._v(" "),s("info")],1)])},staticRenderFns:[]};var U={name:"Auth",components:{Layout:s("VU/8")(S,w,!1,function(t){s("PyRe")},"data-v-564cf47e",null).exports},mounted(){o()&&this.$router.push("/list/users")},data:()=>({users:[],isOpen:!1}),methods:Object(r.b)(["setAuth"])},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth"},[e("layout")],1)},staticRenderFns:[]};var D=s("VU/8")(U,E,!1,function(t){s("DMa3")},"data-v-85ae1450",null).exports,F={name:"Menu",data:()=>({links:[{id:1,title:"Пользователи",path:"/list/users"},{id:2,title:"Посты",path:"/list/posts"}]})},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu"},[s("div",{staticClass:"menu__wrapper"},[s("h2",[t._v("Страницы")]),t._v(" "),s("div",{staticClass:"menu-links"},t._l(t.links,function(e){return s("router-link",{key:e.id,staticClass:"link",attrs:{to:{path:e.path}}},[t._v("\n        "+t._s(e.title)+"\n      ")])}),1)])])},staticRenderFns:[]};var R={name:"List",components:{ListMenu:s("VU/8")(F,V,!1,function(t){s("m73x")},null,null).exports},mounted(){o()||this.$router.push("/")}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list"},[e("div",{staticClass:"list__wrapper"},[e("list-menu"),this._v(" "),e("router-view")],1)])},staticRenderFns:[]};var L=s("VU/8")(R,A,!1,function(t){s("t1Lm")},"data-v-137e7bc0",null).exports,N={name:"Back",methods:{handleClick(){this.$router.go(-1)}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back",on:{click:this.handleClick}},[e("span",[this._v("Вернуться назад")])])},staticRenderFns:[]};var B={components:{Back:s("VU/8")(N,q,!1,function(t){s("uHf6")},"data-v-4ba26c28",null).exports},name:"Layout"},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"update"},[e("div",{staticClass:"update__wrapper"},[e("router-view"),this._v(" "),e("back")],1)])},staticRenderFns:[]};var O={name:"Update",components:{Layout:s("VU/8")(B,I,!1,function(t){s("7x7p")},"data-v-6a8881d2",null).exports},mounted(){o()||this.$router.push("/")}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"update"},[e("layout")],1)},staticRenderFns:[]};var j=s("VU/8")(O,P,!1,function(t){s("bRZi")},"data-v-626464e8",null).exports,J={name:"Header",props:{title:{type:String,required:!0}}},H={render:function(){var t=this.$createElement;return(this._self._c||t)("h2",[this._v(this._s(this.title))])},staticRenderFns:[]};var T=s("VU/8")(J,H,!1,function(t){s("cUvV")},"data-v-41803253",null).exports,M={name:"Search",components:{AppInput:f},data:()=>({value:""}),methods:{handleSearch(){this.$emit("handleSearch",this.value)}}},Z={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("app-input",{attrs:{placeholder:"Введите значение",value:t.value},on:{input:t.handleSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},staticRenderFns:[]};var z=s("VU/8")(M,Z,!1,function(t){s("1xgi")},"data-v-520d0818",null).exports,G={name:"LoadButton",components:{AppButton:C},props:{isLoading:{type:Boolean,required:!0},isDone:{type:Boolean,required:!0},isSearch:{type:Boolean,required:!0},isSearchDataEmpty:{type:Boolean,required:!0}},computed:{showButton(){return!this.isDone&&!this.isLoading&&!this.isSearch},showEmpty(){return!this.isLoading&&this.isSearchDataEmpty}},methods:{loadData(){this.$emit("loadData")}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button"},[t.isLoading?s("span",[t._v("Loading...")]):t._e(),t._v(" "),t.showEmpty?s("span",[t._v("Ничего не найдено")]):t._e(),t._v(" "),t.showButton?s("app-button",{attrs:{title:"Показать еще"},on:{click:t.loadData}}):t._e()],1)},staticRenderFns:[]},Y=s("VU/8")(G,W,!1,null,null,null).exports,Q={name:"List",props:{data:{type:Array,require:!0}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},t._l(t.data,function(e){return s("div",{key:e.id,staticClass:"item"},[t._t("default",null,{item:e})],2)}),0)},staticRenderFns:[]};async function X(t,e,s,a=""){const n=`${t}?limit=${e}&skip=${s}&q=${a}`;return await x({url:n})}var tt={name:"Displayer",components:{HeaderComponent:T,List:s("VU/8")(Q,K,!1,function(t){s("qftC")},"data-v-7bf884f1",null).exports,Search:z,LoadButton:Y},data:()=>({data:[],searchData:[],total:0,limit:10,skip:0,search:"",isLoading:!1,isDone:!1}),props:{title:{type:String,required:!0},url:{type:String,required:!0}},async mounted(){await this.loadData()},computed:{isSearchDataEmpty(){return 0===this.searchData.length&&this.isSearch},isSearch(){return""!==this.search},renderData(){return this.isSearch?this.searchData:this.data}},methods:{async loadData(){if(this.isLoading=!0,this.isSearch){const t=await X(this.url+"/search",0,0,this.search);return this.searchData=t[this.url],void(this.isLoading=!1)}const t=await X(this.url,this.limit,this.skip);this.skip+=this.limit,this.data=[...this.data,...t[this.url]],this.total=t.total,this.skip>=this.total&&(this.isDone=!0),this.isLoading=!1},async handleSearch(t){this.search=t,this.isSearch&&await this.loadData()}}},et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"displayer"},[s("header-component",{attrs:{title:t.title}}),t._v(" "),s("search",{on:{handleSearch:t.handleSearch}}),t._v(" "),s("list",{attrs:{data:t.renderData},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[t._t("default",null,{item:s})]}}],null,!0)}),t._v(" "),s("load-button",{attrs:{"is-loading":t.isLoading,"is-done":t.isDone,"is-search":t.isSearch,"is-search-data-empty":t.isSearchDataEmpty},on:{loadData:t.loadData}})],1)},staticRenderFns:[]};var st=s("VU/8")(tt,et,!1,function(t){s("pG7V")},"data-v-46a72c58",null).exports,at={name:"UpdateButton",props:{path:{type:String,required:!0},id:{type:Number,required:!0}}},nt={render:function(){var t=this.$createElement;return(this._self._c||t)("router-link",{staticClass:"link",attrs:{to:{path:this.path,query:{id:this.id}}}},[this._v("Редактировать")])},staticRenderFns:[]};var it=s("VU/8")(at,nt,!1,function(t){s("U/Q8")},"data-v-42be152e",null).exports,rt={name:"Card",components:{UpdateButton:it},props:{user:{type:Object,required:!0}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"picture"},[s("img",{attrs:{src:t.user.image,alt:"user"}})]),t._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"info-name"},[s("span",[t._v(t._s(t.user.firstName))]),t._v(" "),s("span",[t._v(t._s(t.user.lastName))])]),t._v(" "),s("div",{staticClass:"info-age"},[s("span",[t._v("Возраст: ")]),t._v(" "),s("span",[t._v(t._s(t.user.age))])]),t._v(" "),s("div",{staticClass:"info-gender"},[s("span",[t._v("Пол: ")]),t._v(" "),s("span",[t._v(t._s(t.user.gender))])]),t._v(" "),s("div",{staticClass:"info-update"},[s("update-button",{attrs:{path:"/update/user",id:t.user.id}})],1)])])},staticRenderFns:[]};var lt={name:"Users",components:{Displayer:st,Card:s("VU/8")(rt,ot,!1,function(t){s("+6k6")},"data-v-ef9cf0aa",null).exports}},ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"users"},[e("displayer",{attrs:{title:"Пользователи",url:"users"},scopedSlots:this._u([{key:"default",fn:function(t){var s=t.item;return[e("card",{attrs:{user:s}})]}}])})],1)},staticRenderFns:[]};var ct=s("VU/8")(lt,ut,!1,function(t){s("pd9w")},"data-v-c3055a88",null).exports,dt={name:"Card",components:{UpdateButton:it},props:{post:{type:Object,required:!0}}},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"info"},[s("span",{staticClass:"info-title"},[t._v(t._s(t.post.title))]),t._v(" "),s("div",{staticClass:"info-react"},[s("span",[t._v("Реакций: ")]),t._v(" "),s("span",[t._v(t._s(t.post.reactions))])])]),t._v(" "),s("span",{staticClass:"content"},[t._v("\n    "+t._s(t.post.body)+"\n  ")]),t._v(" "),s("div",{staticClass:"button"},[s("update-button",{attrs:{path:"/update/post",id:t.post.id}})],1)])},staticRenderFns:[]};var ht={name:"Posts",components:{Displayer:st,Card:s("VU/8")(dt,pt,!1,function(t){s("CJTC")},"data-v-0831c094",null).exports}},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"posts"},[e("displayer",{attrs:{title:"Посты",url:"posts"},scopedSlots:this._u([{key:"default",fn:function(t){var s=t.item;return[e("card",{attrs:{post:s}})]}}])})],1)},staticRenderFns:[]};var vt=s("VU/8")(ht,mt,!1,function(t){s("xONk")},"data-v-34f8c28c",null).exports,ft={name:"Header",props:{title:{type:String,required:!0}}},_t={render:function(){var t=this.$createElement;return(this._self._c||t)("h2",[this._v(this._s(this.title))])},staticRenderFns:[]},yt=s("VU/8")(ft,_t,!1,null,null,null).exports;var Ct={name:"UserUpdate",components:{HeaderComponent:yt,AppInput:f,AppButton:C},data:()=>({user:{firstName:"",lastName:"",email:"",username:""}}),async mounted(){const t=this.$route.query.id,e=await async function(t){return await x({url:`users/${t}`})}(t);this.user=e},methods:{async handleClick(){const t={firstName:this.user.firstName,lastName:this.user.lastName,email:this.user.email,login:this.user.login};await async function(t,e){return await x({url:`users/${t}`,method:"PUT",body:e})}(this.user.id,t),this.$router.go(-1)}}},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("header-component",{attrs:{title:"Редактирование данных пользователя"}}),t._v(" "),s("div",{staticClass:"fields"},[s("div",{staticClass:"name"},[s("div",{staticClass:"name-field"},[s("app-input",{attrs:{placeholder:"Введите имя"},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}})],1),t._v(" "),s("div",{staticClass:"name-field"},[s("app-input",{attrs:{placeholder:"Введите фамилию"},model:{value:t.user.lastName,callback:function(e){t.$set(t.user,"lastName",e)},expression:"user.lastName"}})],1)]),t._v(" "),s("app-input",{attrs:{placeholder:"Введите email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t._v(" "),s("app-input",{attrs:{placeholder:"Введите login"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("app-button",{attrs:{title:"Редактировать"},on:{click:t.handleClick}})],1)},staticRenderFns:[]};var kt=s("VU/8")(Ct,gt,!1,function(t){s("B83W")},"data-v-a24f7546",null).exports,bt={name:"UserUpdate",components:{HeaderComponent:yt,AppInput:f,AppButton:C},data:()=>({post:{}}),async mounted(){const t=this.$route.query.id,e=await async function(t){return await x({url:`posts/${t}`})}(t);this.post=e},methods:{async handleClick(){const t={title:this.post.title};await async function(t,e){return await x({url:`posts/${t}`,method:"PUT",body:e})}(this.post.id,t),this.$router.go(-1)}}},$t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post"},[s("header-component",{attrs:{title:"Редактирование данных поста"}}),t._v(" "),s("div",{staticClass:"fields"},[s("app-input",{attrs:{placeholder:"Введите название"},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),t._v(" "),s("app-button",{attrs:{title:"Редактировать"},on:{click:t.handleClick}})],1)},staticRenderFns:[]};var xt=s("VU/8")(bt,$t,!1,function(t){s("LFau")},"data-v-08d0320c",null).exports,St={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"not-found"},[e("h1",[this._v("Такой страницы не существует")])])}]};var wt=s("VU/8")({name:"NotFound"},St,!1,function(t){s("94ZE")},"data-v-5b3359cb",null).exports;a.default.use(p.a);var Ut=new p.a({routes:[{path:"/",name:"Auth",component:D},{path:"/list",name:"List",component:L,children:[{path:"users",name:"Users",component:ct},{path:"posts",name:"Posts",component:vt}]},{path:"/update",name:"Update",component:j,children:[{path:"user",name:"UserUpdate",component:kt},{path:"post",name:"PostUpdate",component:xt}]},{path:"*",name:"NotFound",component:wt}]}),Et={state:{user:{},token:""},mutations:{setAuth(t,{user:e,token:s}={}){t.user=e,t.token=s,localStorage.setItem("token",JSON.stringify(s)),localStorage.setItem("user",JSON.stringify(e))}},getters:{user:t=>t.user,token:t=>t.token}};a.default.use(r.a);var Dt=new r.a.Store({modules:{user:Et}}),Ft={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},Vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),e("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),e("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},staticRenderFns:[]};var Rt=s("VU/8")(Ft,Vt,!1,function(t){s("0eAL")},null,null).exports;s("qJEI");a.default.config.productionTip=!1,a.default.use(i.a),new a.default({el:"#app",router:Ut,store:Dt,components:{App:d,PulseLoader:Rt},template:"<App/>"})},PyRe:function(t,e){},"U/Q8":function(t,e){},bRZi:function(t,e){},cUvV:function(t,e){},"e+xq":function(t,e){},eY4I:function(t,e){},m73x:function(t,e){},pG7V:function(t,e){},pd9w:function(t,e){},qJEI:function(t,e){},qftC:function(t,e){},t1Lm:function(t,e){},uHf6:function(t,e){},xONk:function(t,e){},xejZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.92273dfdefd544891319.js.map